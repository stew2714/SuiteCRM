/*! AnalyticReporting 26-06-2017 */
function capitalize(a){return a&&a[0].toUpperCase()+a.slice(1)}function unique(a){var b=[];return jQuery.each(a,function(a,c){jQuery.inArray(c,b)==-1&&b.push(c)}),b}function pop_include_details(){newwindow2=window.open("","name","height=300,width=600");var a=newwindow2.document;a.write("<html><head><title>Include Details Help</title>"),a.write("</head><body>"),a.write("<p>"+translated_labels.label_tooltip_msg_1+"</p>"),a.write("</body></html>"),a.close()}function pop_crosstab(){newwindow2=window.open("","name","height=300,width=600");var a=newwindow2.document;a.write("<html><head><title>Is Crosstab Help</title>"),a.write("</head><body>"),a.write("<p>"+translated_labels.label_tooltip_msg_2+"</p>"),a.write("</body></html>"),a.close()}function pop_aggregates_as_column(){newwindow2=window.open("","name","height=300,width=600");var a=newwindow2.document;a.write("<html><head><title>Aggregates as column Help</title>"),a.write("</head><body>"),a.write("<p>"+translated_labels.label_tooltip_msg_3+"</p>"),a.write("</body></html>"),a.close()}var App={Views:{},Models:{},Collections:{},init:function(){},template:function(a){return _.template(this._template(a))},_template:function(a){return jQuery("#"+a).html()}};Ractive.decorators.select2.type.filter={width:"resolve",dropdownAutoWidth:!0};var postToURL=function(a,b){var c=jQuery("<form/>",{action:a,method:"POST",style:"display: none;"});jQuery.each(b,function(a,b){c.append(jQuery("<input/>",{name:a,value:b,type:"hidden"}))}),c.appendTo("body").submit()},cleanAggregates=function(a){for(var b=0;b<a.length;b++)delete a[b].blocks,delete a[b].availableFields;return a},multiSelectDecorator=function(a,b){var c,d,e=a._ractive.root,f=!1,g={header:!1,selectedList:1,click:function(){window.setTimeout(function(){jQuery(a).multiselect("refresh")},0)}};if(jQuery(a).multiselect(g),e.observe("disableSelectBox",function(b){b?jQuery(a).multiselect("disable"):jQuery(a).multiselect("enable")},{init:!1}),a._ractive.binding){var h=function(){f||(f=!0,window.setTimeout(function(){jQuery(a).change(),jQuery(a).multiselect("refresh"),f=!1},0))};c=e.observe(a._ractive.binding.keypath,h),d=e.observe("optionGroups",h)}return jQuery(a).multiselect(g).on("change",function(){f||(f=!0,e.updateModel(),f=!1)}),{teardown:function(){jQuery(a).multiselect("destroy"),c&&(c.cancel(),d.cancel())}}},selectBoxCache={},selectBox=Ractive.extend({template:function(a){return"undefined"==typeof selectBoxCache[a.valueName+"|"+a.titleName]&&(selectBoxCache[a.valueName+"|"+a.titleName]=Ractive.parse('<select value="{{selected}}">{{#options}}<option value="{{'+a.valueName+'}}">{{'+a.titleName+"}}</option>{{/options}}</select>")),selectBoxCache[a.valueName+"|"+a.titleName]},complete:function(){if(this.data.autoSelectFirst){var a=this,b=function(b){for(var c=!1,d=0;d<b.length;d++)if(b[d][a.data.valueName]==a.data.selected){c=!0;break}!c&&b.length>0&&a.set("selected",a.data.options[0][a.data.valueName])};b(this.data.options),this.observe("options",b,{init:!1})}},data:{selected:null,options:[],titleName:"",valueName:"",autoSelectFirst:!0},modifyArrays:!1}),selectBoxImg=Ractive.extend({template:App._template("selectBoxImgTemplate"),complete:function(){var a=!1;this.data.autoSelect&&""===this.data.selected&&this.set("selected",this.data.options[0][this.data.valueName]);var b=this.find("select"),c=this;jQuery(b).ddslick({width:250,background:"transparent",imagePosition:"left",onSelected:function(b){if(a){for(var d=0,e=ReportData.selectedAggregates.length-1;e>=0;e--)ReportData.selectedAggregates[e].value.sum&&d++,ReportData.selectedAggregates[e].value.count&&d++,ReportData.selectedAggregates[e].value.avg&&d++;"Combined"!=b.selectedData.text||ReportData.fieldGroupingSorting.length>0&&d>1?(c.get("selected")!=b.selectedData.value&&jQuery("#ar-rv-chart-editor-tabs").tabs("option","active",1),c.set("selected",b.selectedData.value)):alert(translated_labels.label_chart_error)}}}),setTimeout(function(){for(var b=0,c=ReportData.selectedAggregates.length-1;c>=0;c--)ReportData.selectedAggregates[c].value.sum&&b++,ReportData.selectedAggregates[c].value.count&&b++,ReportData.selectedAggregates[c].value.avg&&b++;0==ReportData.fieldGroupingSorting.length||b<2?(jQuery(".dd-options").children()[3].style.backgroundColor="lightgrey;",jQuery(".dd-options").children()[3].children[0].backgroundColor="lightgrey;"):(jQuery(".dd-options").children()[3].backgroundColor="white;",jQuery(".dd-options").children()[3].children[0].backgroundColor="white;"),a=!0},3e3)},data:{options:[],selected:"",autoSelect:!0,id:""}}),multiSelectBox=Ractive.extend({template:App._template("multiSelectBoxTemplate"),init:function(){},complete:function(){var a=this,b=function(){var b=a.get("selected"),c=a.getDisabledValues(b),d=a.get("options"),e=a.convertData(d,"key","values","name","title",c,b),f=!1;JSON.stringify(e.options)!==JSON.stringify(a.get("optionGroups"))&&(f=!0),a.set("optionGroups",e.options).then(function(){return JSON.stringify(e.selected)===JSON.stringify(a.get("selected"))||(f=!0,a.set("selected",e.selected))}).then(function(){f&&setTimeout(function(){a.fire("selectChanged")},10)})};this.observe("options",b,{init:!1}),this.observe("selected",function(a){this.data.selected=a,b()},{init:!1}),b()},getDisabledValues:function(a){for(var b=this.get("aggregates"),c=this.get("groups"),d=[],e=!1,f=!1,g=0;g<a.length;g++){if(c.length>0)for(var h=0;h<c.length;h++)if(a[g]==c[h].name){e=!0;break}if(ReportData.options.isCombined&&"date_field"==a[g]){e=!0;break}if(b.length>0)for(var h=0;h<b.length;h++){if(b[h].value.sum&&a[g]==b[h].selectedField+"_sum"){f=!0;break}if(b[h].value.avg&&a[g]==b[h].selectedField+"_avg"){f=!0;break}if(b[h].value.count&&a[g]==b[h].selectedField+"_cnt"){f=!0;break}}}if(e){for(var g=0;g<b.length;g++)b[g].value.sum&&d.push(b[g].selectedField+"_sum"),b[g].value.avg&&d.push(b[g].selectedField+"_avg"),b[g].value.count&&d.push(b[g].selectedField+"_cnt");for(var g=0;g<a.length;g++){for(var h=0;h<c.length;h++)a[g]!=c[h].name&&d.push(c[h].name);ReportData.options.isCombined&&"date_field"!=a[g]&&d.push("date_field")}}if(f){for(var g=0;g<c.length;g++)d.push(c[g].name);ReportData.options.isCombined&&d.push("date_field")}return d},convertData:function(a,b,c,d,e,f,g){for(var h=[],i=[],j=0;j<a.length;j++){for(var k=[],l=0;l<a[j][c].length;l++){var m=!1;jQuery.inArray(a[j][c][l][d],f)!==-1&&(m=!0);var n=!1;m||jQuery.inArray(a[j][c][l][d],g)===-1||(n=!0,i.push(a[j][c][l][d])),k.push({value:a[j][c][l][d],title:a[j][c][l][e],disabled:m})}h.push({title:a[j][b],items:k})}return h={options:h,selected:i}},decorators:{multiSelect:multiSelectDecorator},data:{options:[],selected:"",optionGroups:[],disabledValues:[],disabledSelectBox:!1,groups:[],aggregates:[]}}),reportUtils={appendDateGrouping:function(a,b){return"undefined"==typeof a.cols[b]&&("undefined"!=typeof a.cols[b+"_year"]?b+="_year":"undefined"!=typeof a.cols[b+"_quarter"]?b+="_quarter":"undefined"!=typeof a.cols[b+"_quarterAndYear"]?b+="_quarterAndYear":"undefined"!=typeof a.cols[b+"_month"]?b+="_month":"undefined"!=typeof a.cols[b+"_monthAndYear"]?b+="_monthAndYear":"undefined"!=typeof a.cols[b+"_week"]?b+="_week":"undefined"!=typeof a.cols[b+"_weekAndYear"]?b+="_weekAndYear":"undefined"!=typeof a.cols[b+"_day"]&&(b+="_day")),b},generateFieldsByNameFromBlocks:function(a){for(var b={},c=0;c<a.length;c++)for(var d=0;d<a[c].fields.length;d++)b[a[c].fields[d].name]=a[c].fields[d];return b},isMultiSummaryReport:function(a,b,c,d){d=d||!1;for(var e=[],f=0;f<b.length;f++){var g=b[f],h=g.showAggregates;if("column"!=g.position||!d)for(var i=0;i<a.length;i++){var j=h[a[i].selectedField];if(j){var k=!1;j.sum&&(k=!0),j.count&&(k=!0),j.avg&&(k=!0),k&&e.push(!0)}}}return c||e.pop(),e.length>0},convertToJSONPost:function(a,b){var c={};b=b||[];for(var d=Object.keys(a),e=0;e<d.length;e++)b.indexOf(d[e])==-1?c[d[e]]=JSON.stringify(a[d[e]]):c[d[e]]=a[d[e]];return c}},NumberFormatter=function(a){var b=jQuery.extend({},{format:"",seperator:"'",decimal:".",numdec:significantDigits},a);this.format=b.format,this.decimal=b.decimal,this.seperator=b.seperator,this.numdec=b.numdec,this.countAggregateByLabel=this.getCountAggregateByLabel(),this.integerFields=this.getIntegerFields(),this.integerAggregates=this.getIntegerAggregates()};NumberFormatter.prototype.format="",NumberFormatter.prototype.decimal=".",NumberFormatter.prototype.seperator="'",NumberFormatter.prototype.makeFormatter=function(){var a=this;switch(this.format){case"123,456,789":return function(b,c,d,e,f){if(null==d)return"";if(!a.isNumber(d))return d;if(d.length&&!d[0].match("[0-9]"))return d;d=a.roundByType(d,e,f);var g=d.split("."),h="";return g.length>1&&(h=a.decimal+g[1]),g[0].length>3&&(g[0]=a.by3(g[0])),g[0]+h};case"12,34,56,789":return function(b,c,d,e,f){if(null==d)return"";if(!a.isNumber(d))return d;if(d.length&&!d[0].match("[0-9]"))return d;d=a.roundByType(d,e,f);var g=d.split("."),h="";return g.length>1&&(h=a.decimal+g[1]),g[0].length>3&&(g[0]=a.by3then2(g[0])),g[0]+h};case"123456,789":return function(b,c,d,e,f){if(null==d)return"";if(!a.isNumber(d))return d;if(d.length&&!d[0].match("[0-9]"))return d;d=a.roundByType(d,e,f);var g=d.split("."),h="";return g.length>1&&(h=a.decimal+g[1]),g[0].length>3&&(g[0]=a.first3(g[0])),g[0]+h};case"123456789":default:return function(b,c,d,e,f){if(null==d)return"";if(!a.isNumber(d))return d;if(d.length&&!d[0].match("[0-9]"))return d;d=a.roundByType(d,e,f);var g=d.split("."),h="";return g.length>1&&(h=a.decimal+g[1]),g[0].length>3&&(g[0]=a.noFormat(g[0])),g[0]+h}}},NumberFormatter.prototype.noFormat=function(a){return a},NumberFormatter.prototype.by3=function(a){for(var b=a.split("").reverse(),c=[],d=1;d<b.length;d++)c.push(b[d-1]),d%3==0&&c.push(this.seperator);return c.push(b[b.length-1]),c.reverse().join("")},NumberFormatter.prototype.by3then2=function(a){for(var b=a.split("").reverse(),c=[],d=1;d<b.length&&d<4;d++)c.push(b[d-1]),d%3==0&&c.push(this.seperator);for(var d=4;d<b.length;d++)c.push(b[d-1]),d-4&&(d-1)%2==0&&c.push(this.seperator);return c.push(b[b.length-1]),c.reverse().join("")},NumberFormatter.prototype.first3=function(a){var b=a.split(""),c=b.splice(-3,3);return b.length>0&&(c=b.join("")+this.seperator+c.join("")),c},NumberFormatter.prototype.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},NumberFormatter.prototype.isCountAggregate=function(a,b){var c=a.substr(a.lastIndexOf("_")+1),d=["sum","min","max","avg"];if("cnt"==c||"ctn"==b)return!0;if(d.indexOf(c)>-1)return!1;if("undefined"!=typeof b&&ReportData.options.aggregateColumn)return!!b.aggregates&&this.countAggregateByLabel.indexOf(b.aggregates)>-1;for(var e=0;e<ReportData.selectedAggregates.length;e++)if(a.indexOf(ReportData.selectedAggregates[e].selectedField)>-1)return ReportData.selectedAggregates[e].value.count;return!1},NumberFormatter.prototype.getIntegerFields=function(){for(var a=[],b=0;b<ReportData.availableFields.length;b++)for(var c=0;c<ReportData.availableFields[b].fields.length;c++)"integer"==ReportData.availableFields[b].fields[c].type&&a.push(ReportData.availableFields[b].fields[c].name);return a},NumberFormatter.prototype.getIntegerAggregates=function(){for(var a=[],b=0;b<ReportData.selectedAggregates.length;b++){var c=ReportData.selectedAggregates[b];this.integerFields.indexOf(c.selectedField)>-1&&(c.value.sum&&a.push(ReportData.labels[c.selectedField+"_sum"]),c.value.max&&a.push(ReportData.labels[c.selectedField+"_max"]),c.value.min&&a.push(ReportData.labels[c.selectedField+"_min"]))}return a},NumberFormatter.prototype.getCountAggregateByLabel=function(){var a=[];for(var b in ReportData.labels)ReportData.labels.hasOwnProperty(b)&&"_cnt"==b.substr(b.length-4)&&a.push(ReportData.labels[b]);return a},NumberFormatter.prototype.isIntegerType=function(a,b){if("undefined"!=typeof b&&ReportData.options.aggregateColumn)return this.integerAggregates.indexOf(b.aggregates)>-1;for(var c=0;c<this.integerFields.length;c++)if(a.indexOf("_avg")<0&&a.indexOf(this.integerFields[c])>-1)return!0},NumberFormatter.prototype.roundByType=function(a,b,c){return"undefined"!=typeof b&&(this.isCountAggregate(b.field,c)||this.isIntegerType(b.field,c))&&"avg"!=c?(Math.round(100*parseFloat(a))/100).toFixed(0):Number(Math.round(a+"e+"+this.numdec)+"e-"+this.numdec).toFixed(this.numdec)};var validateXAxis=function(a){for(var b=this.get("availableGroups"),c=!1,d=0;d<b.length;d++)if(a==b[d].name){c=!0;break}var e=a;c||b.length>0&&(e=b[0].name,that.set("xAxis",e)),ReportData.chartAxisX=e},reportBtn=Ractive.extend({template:'<a href="javascript:void(0);" class="ar-button {{className}}" on-click="clicked">{{text}}</a>',data:{text:"",className:""}}),reportBtnGC=Ractive.extend({template:'<a href="javascript:void(0);" on-click="clicked" class="tooltipX"><img src="modules/AnalyticReporting/assets/img/cross_g.png"/><span>{{text}}</span></a>',data:{text:""}}),includeDetails=Ractive.extend({template:'<label style="vertical-align:middle;"><input class="includeDetailsCheckbox" type="checkbox" on-change="changed" checked="{{checked}}" /> {{text}}</label> (<a onclick="pop_include_details();" class="tooltipX" href="#">?<span>'+translated_labels.label_tooltip_msg_1+"</span></a>)",init:function(){var a=this;this.observe("checked",function(a){ReportData.options.includeDetails=a,jQuery("body").trigger("includedDetails")}),jQuery("body").on("includedDetails",function(){a.set("checked",ReportData.options.includeDetails)}),this.observe("isCrosstab",function(b){1==ReportData.options.isCrosstab&&a.set("checked",!1)})},data:{text:translated_labels.label_include_details,checked:ReportData.options.includeDetails}}),isCrosstab=Ractive.extend({template:'<label style="vertical-align:middle;"><input id="isCrosstabCheckbox" type="checkbox" checked="{{val}}" /> {{text}}</label> (<a onclick="pop_crosstab();" class="tooltipX" href="#">?<span>'+translated_labels.label_tooltip_msg_2+'</span></a>) {{#val}}<label style="vertical-align:middle;"><input type="checkbox" checked="{{aggregatesAsColumnVal}}" /> {{textCol}}</label><!-- (<a onclick="pop_aggregates_as_column();" class="tooltipX" href="#">?<span>'+translated_labels.label_tooltip_msg_3+"</span></a>)-->{{/val}}",init:function(){var a=this;this.observe("val",function(a){ReportData.options.isCrosstab=a,a?(ReportData.options.includeDetails=!1,jQuery("body").trigger("includedDetails")):this.set("aggregatesAsColumnVal",!1)}),this.observe("aggregatesAsColumnVal",function(a){ReportData.options.aggregateColumn=a}),jQuery("body").on("includedDetails",function(){1==ReportData.options.includeDetails&&a.set("val",!1)})},data:{text:translated_labels.label_is_crosstab,textCol:translated_labels.label_aggregates_as_column,val:ReportData.options.isCrosstab,aggregatesAsColumnVal:!!ReportData.options.aggregateColumn&&ReportData.options.aggregateColumn}}),reportButtons=Ractive.extend({template:App._template("reportButtonsTemplate"),components:{reportBtn:reportBtn}}),reportButtonPreview=Ractive.extend({template:'<reportBtn text="'+translated_labels.label_preview+'" on-clicked="preview" className="green"/> <img class="ar-loading" src="modules/AnalyticReporting/assets/css/select2-spinner.gif" alt="Loading..." />',components:{reportBtn:reportBtn}}),SaveDataAs=Ractive.extend({el:jQuery("#modalWindow"),append:!1,template:"{{>modalContent}}",data:{},init:function(){data=this.data,jQuery("#modalWindow").dialog({modal:!0,draggable:!1,resizable:!1,title:translated_labels.label_save_report_as,buttons:[{text:translated_labels.label_save,click:function(){var a=this,b=jQuery(this).find("[name=reportName]").val(),c=jQuery(this).find("[name=reportDescription]").val(),d=jQuery(this).find("[name=reportFolder]").val();data.title=b,data.description=c,data.reportFolder=d,jQuery.post(ReportData.saveUrl+ReportData.id,data,function(b){b=JSON.parse(b),ReportData.id=b.id,jQuery(a).dialog("close"),window.location="index.php?module=AnalyticReporting&action=report&record="+ReportData.id})}},{text:translated_labels.label_cancel,click:function(){jQuery(this).dialog("close")}}]})}}),EditTitle=Ractive.extend({el:jQuery("#modalWindow"),append:!1,template:"{{>modalContent}}",data:{},init:function(){var a=this.data;jQuery("#modalWindow").dialog({modal:!0,draggable:!1,resizable:!1,title:"   ",buttons:[{text:translated_labels.label_save,click:function(){var b=jQuery(this).find("[name=reportName]").val(),c=jQuery(this).find("[name=reportDescription]").val();a.title=b,a.description=c,a.changeTitle=1,jQuery("#reportTitle").text(b),jQuery("#reportDescription").text(c),jQuery(this).dialog("close"),jQuery.post(ReportData.saveUrl+ReportData.id,a,function(){})}},{text:translated_labels.label_cancel,click:function(){jQuery(this).dialog("close")}}]})}}),reportAccessRights=Ractive.extend({template:'<selectBox selected="{{level}}" options="{{rights}}" titleName="title" valueName="name" />',data:{rights:[{name:"VIEW",title:translated_labels.label_can_view},{name:"EDIT",title:translated_labels.label_can_edit},{name:"DELETE",title:translated_labels.label_can_delete}],level:"VIEW"},components:{selectBox:selectBox}}),reportAccessManager=Ractive.extend({template:App._template("reportAccessTemplate"),beforeInit:function(a){for(var b={},c=[],d=0;d<a.data.users.length;d++)b[a.data.users[d].id]=a.data.users[d],"undefined"!=typeof a.data.accessRights[a.data.users[d].id]?(b[a.data.users[d].id].accessRights=a.data.accessRights[a.data.users[d].id],b[a.data.users[d].id].selected=!0,c.push(a.data.users[d].id)):b[a.data.users[d].id].accessRights="VIEW";a.data.selectedUsers=c,a.data.usersById=b},init:function(){var a=this;this.on("selectUsers",function(b,c){for(var d=a.get("selectedUsers"),e=0;e<c.length;e++)d.push(c[e]),a.set("usersById."+c[e]+".selected",!0);a.set("selectedUsers",d),a.set("updatePermissions",!0)}),this.on("removeUser",function(b,c){var d=a.get("selectedUsers"),e=d.indexOf(c);d.splice(e,1),a.set("usersById."+c+".selected",!1),a.set("selectedUsers",d)}),this.observe("globalSharing",function(b){if("PUB"===b){for(var c=a.get("selectedUsers"),d=0;d<c.length;d++)a.set("usersById."+c[d]+".selected",!1);a.set("selectedUsers",c)}},{init:!1})},data:{users:[],selectedUsers:[],usersById:{},accessRights:{},globalSharing:"PRIV",availableOwners:[],updatePermissions:!1,owner:0},getSelectedAccess:function(){for(var a=this.get("selectedUsers"),b=this.get("usersById"),c={},d=0;d<a.length;d++)void 0!==typeof b[a[d]].selected&&b[a[d]].selected&&(c[a[d]]=b[a[d]].accessRights);return c},components:{reportAccessRights:reportAccessRights,reportButtons:reportButtons,reportButtonPreview:reportButtonPreview,selectBox:selectBox}}),reportScheduleManager=Ractive.extend({template:App._template("reportSchedulingTemplate"),beforeInit:function(a){for(var b={},c=0;c<a.data.users.length;c++)b[a.data.users[c].id]=a.data.users[c],a.data.selectedUsers.indexOf(a.data.users[c].id)>-1?b[a.data.users[c].id].selected=!0:b[a.data.users[c].id].selected=!1;a.data.usersById=b},init:function(){var a=this;this.on("selectUsers",function(b,c){b.original.preventDefault();for(var d=a.get("selectedUsers"),e=0;e<c.length;e++)d.push(c[e]),a.set("usersById."+c[e]+".selected",!0);a.set("selectedUsers",d),a.set("isScheduled",!0)}),this.on("removeUser",function(b,c){b.original.preventDefault();var d=a.get("selectedUsers"),e=d.indexOf(c);d.splice(e,1),a.set("usersById."+c+".selected",!1),a.set("selectedUsers",d)});var b=function(b){var c=a.get("interval"),d=["02","04","06","09","11"];4==c&&(d.indexOf(b)>-1?"02"==b?a.set("days",[{val:"01",title:"1"},{val:"02",title:"2"},{val:"03",title:"3"},{val:"04",title:"4"},{val:"05",title:"5"},{val:"06",title:"6"},{val:"07",title:"7"},{val:"08",title:"8"},{val:"09",title:"9"},{val:"10",title:"10"},{val:"11",title:"11"},{val:"12",title:"12"},{val:"13",title:"13"},{val:"14",title:"14"},{val:"15",title:"15"},{val:"16",title:"16"},{val:"17",title:"17"},{val:"18",title:"18"},{val:"19",title:"19"},{val:"20",title:"20"},{val:"21",title:"21"},{val:"22",title:"22"},{val:"23",title:"23"},{val:"24",title:"24"},{val:"25",title:"25"},{val:"26",title:"26"},{val:"27",title:"27"},{val:"28",title:"28"}]):a.set("days",[{val:"01",title:"1"},{val:"02",title:"2"},{val:"03",title:"3"},{val:"04",title:"4"},{val:"05",title:"5"},{val:"06",title:"6"},{val:"07",title:"7"},{val:"08",title:"8"},{val:"09",title:"9"},{val:"10",title:"10"},{val:"11",title:"11"},{val:"12",title:"12"},{val:"13",title:"13"},{val:"14",title:"14"},{val:"15",title:"15"},{val:"16",title:"16"},{val:"17",title:"17"},{val:"18",title:"18"},{val:"19",title:"19"},{val:"20",title:"20"},{val:"21",title:"21"},{val:"22",title:"22"},{val:"23",title:"23"},{val:"24",title:"24"},{val:"25",title:"25"},{val:"26",title:"26"},{val:"27",title:"27"},{val:"28",title:"28"},{val:"29",title:"29"},{val:"30",title:"30"}]):a.set("days",[{val:"01",title:"1"},{val:"02",title:"2"},{val:"03",title:"3"},{val:"04",title:"4"},{val:"05",title:"5"},{val:"06",title:"6"},{val:"07",title:"7"},{val:"08",title:"8"},{val:"09",title:"9"},{val:"10",title:"10"},{val:"11",title:"11"},{val:"12",title:"12"},{val:"13",title:"13"},{val:"14",title:"14"},{val:"15",title:"15"},{val:"16",title:"16"},{val:"17",title:"17"},{val:"18",title:"18"},{val:"19",title:"19"},{val:"20",title:"20"},{val:"21",title:"21"},{val:"22",title:"22"},{val:"23",title:"23"},{val:"24",title:"24"},{val:"25",title:"25"},{val:"26",title:"26"},{val:"27",title:"27"},{val:"28",title:"28"},{val:"29",title:"29"},{val:"30",title:"30"},{val:"31",title:"31"}]))};this.observe("intervalOptions.0",b),this.observe("interval",function(a){4==a?b(this.get("intervalOptions.0")):3==a&&b("01")})},getSelectedRecipients:function(){for(var a=this.get("selectedUsers"),b=this.get("usersById"),c=[],d=0;d<a.length;d++)"undefined"!=typeof b[a[d]]&&"undefined"!=typeof b[a[d]].selected&&b[a[d]].selected&&c.push(a[d]);return c},data:{users:[],selectedUsers:[],usersById:{},isScheduled:!1,interval:0,intervalOptions:[],timeM:"00",timeH:"00",minutes:[{m:"00"},{m:"05"},{m:"10"},{m:"15"},{m:"20"},{m:"25"},{m:"30"},{m:"35"},{m:"40"},{m:"45"},{m:"50"},{m:"55"}],hours:[{h:"00"},{h:"01"},{h:"02"},{h:"03"},{h:"04"},{h:"05"},{h:"06"},{h:"07"},{h:"08"},{h:"09"},{h:"10"},{h:"11"},{h:"12"},{h:"13"},{h:"14"},{h:"15"},{h:"16"},{h:"17"},{h:"18"},{h:"19"},{h:"20"},{h:"21"},{h:"22"},{h:"23"}],weekdays:[{val:"0",title:translated_labels.label_monday},{val:"1",title:translated_labels.label_tuesday},{val:"2",title:translated_labels.label_wednesday},{val:"3",title:translated_labels.label_thursday},{val:"4",title:translated_labels.label_friday},{val:"5",title:translated_labels.label_saturday},{val:"6",title:translated_labels.label_sunday}],monthweeks:[{val:0,title:translated_labels.label_week_first_third},{val:1,title:translated_labels.label_week_second_fourth}],months:[{val:"01",title:"1"},{val:"02",title:"2"},{val:"03",title:"3"},{val:"04",title:"4"},{val:"05",title:"5"},{val:"06",title:"6"},{val:"07",title:"7"},{val:"08",title:"8"},{val:"09",title:"9"},{val:"10",title:"10"},{val:"11",title:"11"},{val:"12",title:"12"}],days:[{val:"01",title:"1"},{val:"02",title:"2"},{val:"03",title:"3"},{val:"04",title:"4"},{val:"05",title:"5"},{val:"06",title:"6"},{val:"07",title:"7"},{val:"08",title:"8"},{val:"09",title:"9"},{val:"10",title:"10"},{val:"11",title:"11"},{val:"12",title:"12"},{val:"13",title:"13"},{val:"14",title:"14"},{val:"15",title:"15"},{val:"16",title:"16"},{val:"17",title:"17"},{val:"18",title:"18"},{val:"19",title:"19"},{val:"20",title:"20"},{val:"21",title:"21"},{val:"22",title:"22"},{val:"23",title:"23"},{val:"24",title:"24"},{val:"25",title:"25"},{val:"26",title:"26"},{val:"27",title:"27"},{val:"28",title:"28"},{val:"29",title:"29"},{val:"30",title:"30"},{val:"31",title:"31"}],intervalAvailableValues:[{value:0,title:translated_labels.label_daily},{value:1,title:translated_labels.label_weekly},{value:2,title:translated_labels.label_biweekly},{value:3,title:translated_labels.label_monthly},{value:4,title:translated_labels.label_yearly}],scheduledFormats:{xlsx:!1,pdf:!1,url:!1}},components:{selectBox:selectBox}});